{% extends "base.html" %}
{% load static %}

{% block content %}

<!-- ================= HERO / BANNER ================= -->
<section
  class="hero"
  style="
    {% if page.banner_image %}
      background-image:
        linear-gradient(rgba(2,6,23,.75), rgba(2,6,23,.85)),
        url('{{ page.banner_image.url }}');
    {% endif %}
  "
>
  <div class="container hero-container">
    <h1
      class="hero-title"
      style="color: {{ theme.title_color|default:'#ffffff' }}"
    >
      {{ page.titulo }}
    </h1>

    <p
      class="hero-subtitle"
      style="color: {{ theme.subtitle_color|default:'#cbd5e1' }}"
    >
      {{ page.subtitulo }}
    </p>
  </div>
</section>

<!-- ================= TEXTO PRINCIPAL ================= -->
{% if page.texto %}
<section class="content-section">
  <div class="container">
    <p
      class="page-text"
      style="
        color: {{ theme.text_color|default:'#334155' }};
        max-width: 820px;
        margin: 0 auto 40px;
        text-align: center;
        line-height: 1.7;
        font-size: 16px;
      "
    >
      {{ page.texto|linebreaks }}
    </p>
  </div>
</section>
{% endif %}

<!-- ================= SERVIÇOS ================= -->
<section
  class="services-section"
  style="
    --cor-subtitulo: {{ theme.services_border_color }};
    --cor-botao: {{ theme.services_button_color }};
  "
>
  <div class="container">

    <h2 class="section-title" style="color: {{ theme.services_title_color }}">
      Serviços
    </h2>

    <!-- override APENAS aqui para centralizar com 1 card -->
    <div
      class="services-grid"
      style="grid-template-columns: repeat(auto-fit, minmax(260px, 320px)); justify-content: center;"
    >

      {% for service in services %}
        <div class="service-card">

          {% if service.imagem %}
            <div class="service-icon">
              <img src="{{ service.imagem.url }}" alt="{{ service.titulo }}">
            </div>
          {% endif %}

          <h3 style="color: {{ theme.services_title_color }}">
            {{ service.titulo }}
          </h3>

          <p style="color: {{ theme.services_text_color }}">
            {{ service.descricao }}
          </p>

          <a href="{% url 'contato' %}" class="btn-service">
            Ver mais
          </a>

        </div>
      {% endfor %}

    </div>
  </div>
</section>

<!-- ================= PROJETOS ================= -->
<section
  class="projects-section"
  style="
    --cor-subtitulo: {{ theme.projects_border_color }};
    --cor-botao: {{ theme.projects_button_color }};
  "
>
  <div class="container">

    <h2 class="section-title" style="color: {{ theme.projects_title_color }}">
      Projetos
    </h2>

    <!-- override APENAS aqui -->
    <div
      class="projects-grid"
      style="grid-template-columns: repeat(auto-fit, minmax(280px, 360px)); justify-content: center;"
    >

      {% for project in projects %}
        <div class="project-card">

          {% if project.imagem %}
            <div class="project-image">
              <img src="{{ project.imagem.url }}" alt="{{ project.titulo }}">
            </div>
          {% endif %}

          <div style="padding: 0 24px 20px;">
            <h3
              class="project-title"
              style="color: {{ theme.projects_title_color }}"
            >
              {{ project.titulo }}
            </h3>

            <p style="color: {{ theme.projects_text_color }}">
              {{ project.descricao }}
            </p>
          </div>

          <a href="{% url 'contato' %}" class="btn-project">
            Ver projeto
          </a>

        </div>
      {% endfor %}

    </div>
  </div>
</section>

{% endblock %}
