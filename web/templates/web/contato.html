{% extends "base.html" %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/contato.css' %}">
{% endblock %}

{% block content %}

<!-- ================= HERO ================= -->
<section class="hero hero--internal">
    <div class="container hero-container">
        <h1 class="hero-title">Contato</h1>
        <p class="hero-subtitle">
            Vamos conversar sobre dados, projetos e soluções
        </p>
    </div>
</section>

<!-- ================= CONTATO ================= -->
<section class="contato-section">
    <div class="container contato-container">

        <!-- TEXTO -->
        <div class="contato-info">
            <h2 class="section-title">Fale comigo</h2>

            <p>
                Se você tem interesse em projetos de
                <strong>Business Intelligence</strong>, análise de dados,
                automação ou consultoria em dados, fique à vontade para entrar em contato.
            </p>

            <p>
                Estou aberto a oportunidades profissionais, projetos freelancers e parcerias.
            </p>

            <ul class="contato-dados">
                <li><strong>E-mail:</strong> jrleles@servicesbi.com.br</li>
                <li><strong>Telefone:</strong> +55 61 99302-9988</li>
                <li><strong>LinkedIn:</strong> linkedin.com/in/jrleles</li>
                <li><strong>GitHub:</strong> github.com/ServicesBI</li>
            </ul>
        </div>

        <!-- FORM -->
        <div class="contato-form-wrapper">
            <h2 class="section-title">Enviar mensagem</h2>

            <!-- MENSAGEM DE SUCESSO -->
            <div id="contato-sucesso" class="contato-success" style="display:none;">
                ✅ <strong>Mensagem enviada com sucesso.</strong><br>
                Obrigado pelo contato! Em breve retorno para você.
            </div>

            <form id="contato-form" class="contato-form">
                <div class="form-group">
                    <label for="nome">Nome</label>
                    <input type="text" name="nome" id="nome" required>
                </div>

                <div class="form-group">
                    <label for="email">E-mail</label>
                    <input type="email" name="email" id="email" required>
                </div>

                <div class="form-group">
                    <label for="mensagem">Mensagem</label>
                    <textarea name="message" id="mensagem" rows="6" required></textarea>
                </div>

                <button type="submit" class="btn-project">
                    Enviar mensagem
                </button>
            </form>
        </div>

    </div>
</section>

<!-- ================= SCRIPT ================= -->
<script>
document.getElementById("contato-form").addEventListener("submit", function(e) {
    e.preventDefault();

    const form = e.target;
    const data = new FormData(form);

    fetch("https://formspree.io/f/xdaoldne", {
        method: "POST",
        body: data,
        headers: {
            "Accept": "application/json"
        }
    })
    .then(response => {
        if (response.ok) {
            form.reset();
            form.style.display = "none";
            document.getElementById("contato-sucesso").style.display = "block";
        } else {
            alert("Erro ao enviar a mensagem. Tente novamente.");
        }
    })
    .catch(() => {
        alert("Erro de conexão. Tente novamente.");
    });
});
</script>

{% endblock %}
